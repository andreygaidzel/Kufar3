@using Kufar3.Models

@{
    List<Declaration> declarations = ViewBag.declarations;
}
@{
    ViewBag.Title = "MyDeclarations";
    Layout = "~/Views/Shared/_layoutUser.cshtml";
}
<h2>Мои объявления</h2>

<ul>
    @foreach (var declaration in declarations)
    {
        <li class="declarations">
            @{
                var path = declaration.Images.FirstOrDefault()?.Name;

                var url = Url.Action("Declaration", "Home", new { declarationId = declaration.Id });
                var editUrl = Url.Action("UserDeclaration", "User", new { declarationId = declaration.Id });
                var removeUrl = Url.Action("DeleteImage", "User", new { declarationId = declaration.Id });
            }
            <div id="menu-desc">
                <a href="@editUrl">Редактировать</a> 
                <a href="@removeUrl">Удалить</a> 
            </div>        
            <div id="img">
                <a href="@url"><img src="@path" alt="No img"/></a>
            </div>
            <div id="desc">
                <h3>
                    <p id="nameD">
                        @declaration.Name
                    </p>
                </h3>
            </div>
            <div id="text">@declaration.Description</div>
        </li>
    }
</ul>